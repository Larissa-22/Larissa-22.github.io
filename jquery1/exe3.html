<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
	<title>Contando palavras</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<link rel="stylesheet"href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" >
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap">
    <link rel="stylesheet" href="../estilo.css">
<script>
    function aparicao(obj, termo){
        return obj.filter((v) => (v===termo)).length;
    }
    $(function () 
      {
        $("#limpar").click(function () {
            $("#tabela").empty();
            $("#frase").val("");
        })

        $("#array").click(function () {
            $("#tabela").empty();
            let frase= $("#frase").val();
            var palavras=frase.split(" ").map(function(termo){
                return termo.toLocaleLowerCase();
            });
            var i = 0;
            var array = [];
            var teste = [];
            var x = 0;
            for (termo of palavras){
                if (teste.indexOf(termo) == -1){
                    let ocorrencia = (aparicao(palavras, termo));
                    teste.push(termo);
                    array[x]=ocorrencia;
                }
                else
                    x--;
                i++; x++;
            }
            for (i = 0; i < teste.length; i++){
                let tr = $("<tr>");
                $("#tabela").append(tr);
                let td = $("<td>");
                let td2 = $("<td>");
                td.text(teste[i]);
                td2.text(array[i]);
                tr.append(td);
                tr.append(td2);
            };
        });
    });
</script>
</head>
<body>
    <h1>Exercício 3:</h1>
    <h2>Faça um programa que leia um texto e separe todas as palavras em um array, indicado para cada uma delas o número de vezes que aparece no texto. Imprima o array em uma tabela contendo a palavra e número de ocorrências.</h2>
    <input type="text" id="frase"> 
    <button id="array">Executar.</button>
    <p id="txt"></p>
    <table id="tabela"></table>
    <button id="limpar">Limpar</button>
    <br><br>
<footer>
    <a class="retorno" href="../trimestres/2triJS.html">Voltar</a>
</footer>
</body>
</html>