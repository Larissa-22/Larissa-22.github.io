<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
	<title>palavra</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<link rel="stylesheet"href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" >
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap">
    <link rel="stylesheet" href="../estilo.css">
    <script>
        function ocorrencias(termos, termo){
            return termos.filter((v)=>(v === termo)).length;
        }
        $(function (){
            $("#limpa").click(function() {
                $("#texto").val("");
                $("#txt").text("");
            })
            $("#array").click(function(){
                let texto = $("#texto").val();
                var termos = texto.split(" ").map(function(termo){
                    return termo.toLocaleLowerCase();
                });
                var arrayo = new Array;
                var i = 0;
                var x = 0;
                var foio=[];
                for (termo of termos){
                    if(foio.indexOf(termo) == -1) {
                        let oco = ocorrencias(termos, termo);
                        foio.push(termo);
                        arrayo[x] = oco;
                    }
                    else {
                        x--;
                    }
                    i++;
                    x++;
                }
                var empate=[];
                var maiortermo;
                var contador= 0;
                for(i = 0; i < foio.length; i++) {
                    var maior= Math.max.apply(null, arrayo);
                    if (arrayo[i] == maior) {
                        contador++;
                        maiortermo= foio[i];
                        empate[i] = foio[i];
                    }
                }
                if (contador> 1) {
                    $("#txt").text(empate + ": Esses termos aparecem  " + arrayo[0] + "  vezes no texto.");
                }
                else {
                    $("#txt").text("O termo " + "'" + maiortermo + "'"+ " apareceu mais vezes no texto, sendo: " + maior + " usos!");
                }
            })
        })
    </script>
</head>
<body>
    <h1>Exercício 4:</h1>
    <h2>Faça um programa que leia um texto e indique a palavra de maior ocorrência e quantas vezes ela apareceu no texto.</h2>
    <input type="text" id="texto" placeholder="Digite um texto" class="maior">
    <button id="array">Executar</button>
    <p id="txt"></p>
    <button id="limpa">Limpar</button>
	<br><br>
    <footer>
        <a class="retorno" href="../trimestres/2triJS.html">Voltar</a>
    </footer>
</body>
</html>
